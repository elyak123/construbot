{% extends "base.html" %}

{% load i18n %}
{% block title %} Listado de Contratos {% endblock %}

{% block content %}
<h1> Listado de Contratos en {{ request.user.currently_at.name }} </h1>
<a href="{% url 'proyectos:nuevo_contrato' %}"><span class="oi oi-plus"></span></a>
{% if is_paginated %}
	<div class="cont_divs_list">
		{% for i in contratos %}
			<div class="div_list">
				<h4 class="h4_div"><a class="anchor_div_list" target="_blank" href="{% url 'proyectos:detalle_de_contrato' i.id %}">{{ i.contrato_name }}</a></h4>
				<p class="p_div_list"><strong>Fecha: </strong> {{ i.fecha }} </p>
				<p class="p_div_list"><strong>Monto: </strong> {{ i.monto }} </p>
			</div>
		{% endfor %}
	</div>
	<nav>
		<ul class="pagination">
			{% if page_obj.has_previous %}
				<li class="page-item">
					<a class="page-link" href="?page={{ page_obj.previous_page_number }}">
						<span>Anterior</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<a class="page-link" href="#">
						<span>Anterior</span>
					</a>
				</li>
			{% endif %}

			{% for page in paginator.page_range %}
				<li {% if page == page_obj.number %}class="page-item active"{% endif %}>
					<a class="page-link" href="?page={{ page }}">{{ page }}</a>
				</li>
			{% endfor %}

			{% if page_obj.has_next %}
				<li class="page-item">
					<a class="page-link" href="?page={{ page_obj.next_page_number }}">
						<span>Siguiente</span>
					</a>
				</li>
			{% else %}
				<li {% if not page_obj.has_next %}class="page-item disabled"{% endif %}>
					<a class="page-link" href="#">
						<span>Siguiente</span>
					</a>
				</li>
			{% endif %}
		</ul>
	</nav>
{% endif %}
{% endblock %}